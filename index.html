<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8>

    <title>Identifying the best drug dealers and cool people to be friend with</title>

    <!-- CSS Libraries -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <!-- CSS Source -->
    <link rel="stylesheet" href="./styles/main.css" />

    <!-- JS Libraries -->
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.6/d3.min.js"></script>

    <!-- JS Source -->
	<script src="./scripts/timeline.js"></script>


</head>

<body>

    <div class="container-fluid">
		<div class="row" id="maps">
            <div class="col-md-12" id="map">
                <svg width=100% id="map" >
                    <circle cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow" />
                  </svg>
            </div>
			<div width=100% id="paths">
                <svg class="col-md-12" id="paths">
                    <circle cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow" />
                  </svg>
            </div>
        </div>
		<div class="row">
            <div class="col-md-12" id="network">
                <svg width=100% id="network" >
                    <circle cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow" />
                  </svg>
            </div>
        </div>
        <div class="row">
            <div class="col-md-8" id="gantt-chart">
            </div>
			<div class="col-md-4" id="gantt-filters">
			</div>
        </div>
    </div>
    <script>
    d3.queue()
    .defer(d3.csv,"https://gist.githubusercontent.com/tehwentzel/24bf8357ad86a3db70510480b020d7d3/raw/4468783d3445b83b4350ac1c1327a0b592c8cfdf/455_pharmacies.csv")
    .defer(d3.csv,"https://gist.githubusercontent.com/tehwentzel/24bf8357ad86a3db70510480b020d7d3/raw/4468783d3445b83b4350ac1c1327a0b592c8cfdf/500_doctors.csv")
    .defer(d3.csv,"https://gist.githubusercontent.com/tehwentzel/24bf8357ad86a3db70510480b020d7d3/raw/4468783d3445b83b4350ac1c1327a0b592c8cfdf/5000_patients.csv")
    .defer(d3.csv,"https://gist.githubusercontent.com/tehwentzel/24bf8357ad86a3db70510480b020d7d3/raw/4468783d3445b83b4350ac1c1327a0b592c8cfdf/27073_prescriptions.csv")
    .await(start_here);

    function start_here(error, PHARMACY_LOC, DOCTOR_LOC, PATIENT_LOC,PRESCRIPTION_LOC) {
        
        if (error) return console.log(error);
        console.log(PRESCRIPTION_LOC);
		timeline = new TimeLine(2121437, PRESCRIPTION_LOC);
		//timeline.setColor("#e6550d");
		////timeline.setDrug("HYDRoCODONE");
		timeline.setStartDate('02/02/2014');
		//timeline.setEndDate('9/02/2014');
		timeline.setupDrugFilter();
		console.log(timeline.getDrugNames());
		timeline.setID(2112697);
		timeline.setupTimeFilter();
		//timeline.setupDrugFilter();
		//console.log(timeline);
    }

    </script>

</body>
</html>